<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/muzima.css" rel="stylesheet">
    <link href="css/ui-darkness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
    <script src="js/muzima.js"></script>

    <title>Cost Assessment</title>
</head>
<body class="col-md-8 col-md-offset-2">
<div id="pre_populate_data"></div>
<form id="costing_form" name="costing_form">

<h2 class="text-center">COST ASSESSMENT TOOL</h2>

<div class="section">
    <h3>Demographics</h3>

    <div class="form-group">
        <label for="patient.medical_record_number">AMRS ID Number:</label>
        <input class="form-control" id="patient.medical_record_number"
               name="patient.medical_record_number" type="text" readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.family_name">Family Name:</label>
        <input class="form-control" id="patient.family_name" name="patient.family_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.given_name">Given Name:</label>
        <input class="form-control" id="patient.given_name" name="patient.given_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.middle_name">Middle Name:</label>
        <input class="form-control" id="patient.middle_name" name="patient.middle_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.sex">Gender:</label>
        <select class="form-control" id="patient.sex" name="patient.sex" readonly="readonly">
            <option value="">...</option>
            <option value="M">Male</option>
            <option value="F">Female</option>
        </select>
    </div>
    <div class="form-group">
        <label for="patient.birthdate">Date Of Birth:</label>
        <input class="form-control datepicker nonFutureDate" id="patient.birthdate" name="patient.birthdate" type="text"
               readonly="readonly">
    </div>
</div>
<div class="section">
    <h3>Survey Information</h3>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Participant ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.participant_id" name="encounter.participant_id"
               type="text" placeholder="Participant ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Household ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.household_id" name="encounter.household_id"
               type="text" placeholder="Household ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.encounter_datetime">Encounter Date:<span class="required">*</span></label>
        <input class="form-control datepicker nonFutureDate" id="encounter.encounter_datetime"
               name="encounter.encounter_datetime" type="text" readonly="readonly"
               required="required">
    </div>

    <div class="form-group">
        <label for="encounter.division_select">Division:<span class="required">*</span></label>
        <select class="form-control .styled-select2" id="encounter.division_select" name="encounter.division_select" required="required">
            <option selected="selected" disabled="disabled" value="">Divisions</option>
            <option value="Mosoriot">Mosoriot</option>
            <option value="Turbo">Turbo</option>
        </select>
    </div>
    <div class="form-group show_community_unit_mosoriot_select">
        <label for="encounter.community_unit_mosoriot_select">Mosoriot units:<span class="required">*</span></label>
        <select class="form-control" id="encounter.community_unit_mosoriot_select" name="encounter.community_unit_mosoriot_select" required="required">
            <option selected="selected" disabled="disabled" value="">Mosoriot units</option>
            <option value="Biribiriet">Biribiriet</option>
            <option value="Chepteri">Chepterit</option>
            <option value="Itigo">Itigo</option>
            <option value="Kokwet">Kokwet</option>
            <option value="Kingwal">Kingwal</option>
            <option value="Lelmokwo">Lelmokwo</option>
            <option value="Mosoriot">Mosoriot</option>
            <option value="Ngechek">Ngechek</option>
            <option value="Sigo">Sigot</option>
        </select>
    </div>

    <div class="form-group show_community_unit_turbo_select">
        <label for="encounter.community_unit.turbo">Turbo units:<span class="required">*</span></label>
        <select class="form-control" id="encounter.community_unit.turbo" name="encounter.community_unit.turbo" required="required">
            <option selected="selected" disabled="disabled" value="">Turbo units</option>
            <option value="Chepkemel">Chepkemelt</option>
            <option value="Cheplaskei">Cheplaskei</option>
            <option value="Chepsaita">Chepsaita</option>
            <option value="Cheramei">Cheramei</option>
            <option value="Leseru">Leseru</option>
            <option value="Murgor hills">Murgor hills</option>
            <option value="Murgusi">Murgusi</option>
            <option value="Ngenyilel">Ngenyilel</option>
            <option value="Osorongai">Osorongai</option>
            <option value="Sambut">Sambut</option>
            <option value="Sokyot">Sokyot</option>
            <option value="Sosiani">Sosiani</option>
            <option value="Sugoi">Sugoi</option>
            <option value="Tuigoin">Tuigoin</option>
            <option value="Turbo/ Kaptebee">Turbo/ Kaptebee</option>

        </select>
    </div>

    <div class="form-group">
        <label for="encounter.village">village:<span class="required">*</span></label>
        <input class="form-control" id="encounter.village" name="encounter.village"
               type="text" placeholder="Village" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.provider_id_select">Select RA:</label>
        <select class="form-control" id="encounter.provider_id_select" name="encounter.provider_id_select">
            <option value="">RA's</option>
            <option value="3356-3">Jackson Rotich</option>
            <option value="237-8">Penina Kiptoo</option>
            <option value="3331-6">Kenedy Kirwa</option>
        </select>
    </div>
    <div class="form-group show_provider_id_text">
        <label for="encounter.provider_id">Enter RA's system-id:<span class="required">*</span></label>
        <input class="form-control checkDigit" id="encounter.provider_id" name="encounter.provider_id"
               type="text" required="required">
    </div>


</div>

<div class="section">
    <h3>INPATIENT ADMISSIONS</h3>

    <label>Have you at any time during the past 12 months been admitted in a hospital for at least one night?</label>

    <div class="form-group checkNoneSelectedAlone single_select_checkbox">
        <fieldset name="obs.drugs_dispensed" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
            <input id="obs.inpatient_admission.yes" type="checkbox" onchange="checkAddress(this)" name="obs.drugs_dispensed" value="1065^YES^99DCT">
            <label for="obs.inpatient_admission.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.inpatient_admission.no" type="checkbox" onchange="checkAddress(this)" name="obs.drugs_dispensed" value="1066^NO^99DCT">
            <label for="obs.inpatient_admission.no">No</label><br>
            <input id="obs.inpatient_admission.dont_know" type="checkbox" onchange="checkAddress(this)"  name="obs.drugs_dispensed" value="1624^DO NOT KNOW^99DCT">
            <label for="obs.inpatient_admission.dont_know">Don&#39;t Know</label>
            <input id="obs.inpatient_admission.refused" type="checkbox" onchange="checkAddress(this)"  name="obs.drugs_dispensed" value="1958^REFUSAL^99DCT">
            <label for="obs.inpatient_admission.refused">Refused</label>
        </fieldset>
    </div>
    <div class="form-group">
        <label for="obs.admission_in_past_12_months" id="obs.admission_in_past_12_months_label">Number of Admissions:<span class="required">*</span></label>
        <input class="form-control" id="obs.admission_in_past_12_months" name="obs.admission_in_past_12_months"  style="display:none"
               type="number" placeholder="Number of Admissions" data-concept="conceptID^Name^99DCT" required="required">
        <label class="alert alert-info" id="obs.inpatient_admission_label" style="display:none">For each of the admissions you listed, we are going to ask you some additional questions.</label>
    </div>
</div>


<input class="form-control numberOfMilligrams" id="txt.test" style="display:none"
       name="obs.omo_number_of_milligram_other"
       type="text" data-concept="1899^NUMBER OF MILLIGRAM^99DCT" required="required">

</div>
<div class="section repeat" id="nifedipine_dispense" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
    <h3>Nifedipine Dispense</h3>

    <div class="form-group" id="nifedipine_dosage_changed">
        <label for="obs.other_medication_order_nifedipine">Did you change the [Nifedipine] dosage?<span
                class="required">*</span></label>
        <select class="form-control" id="obs.other_medication_order_nifedipine" required="required"
                name="obs.other_medication_order_nifedipine" data-concept="1931^DOSAGE CHANGE^99DCT">
            <option value="">...</option>
            <option value="1065^YES^99DCT">Yes</option>
            <option value="1066^NO^99DCT">No</option>
            <option value="1624^DO NOT KNOW^99DCT">Do not know</option>
        </select>
    </div>
    <div class="form-group" id="nifedipine_prescribed_dosage">
        <label for="obs.tmp_dosage_change_nifedipine">Prescribed [Nifedipine] dose in milligrams (mg):<span
                class="required">*</span></label>
        <input class="form-control numberOfMilligrams" id="obs.tmp_dosage_change_nifedipine"
               name="obs.tmp_dosage_change_nifedipine"
               type="text" required="required" data-concept="1899^NUMBER OF MILLIGRAM^99DCT">
    </div>
    <div class="form-group">
        <label for="obs.omo_medication_frequency_per_day_nifedipine">[Nifedipine] frequency per day:<span
                class="required">*</span></label>
        <select class="form-control" id="obs.omo_medication_frequency_per_day_nifedipine" required="required"
                name="obs.omo_medication_frequency_per_day_nifedipine" data-concept="1896^MEDICATION FREQUENCY^99DCT">
            <option value="">...</option>
            <option value="1639^MORNING^99DCT">Every Morning</option>
            <option value="1730^EVENING^99DCT">Every Evening</option>
            <option value="1891^ONCE A DAY^99DCT">Once Daily</option>
            <option value="1888^TWICE A DAY^99DCT">Twice Daily</option>
        </select>
    </div>
    <div class="form-group">
        <label for="obs.omo_number_of_tablets_nifedipine">Number of [Nifedipine] tablets prescribed:<span
                class="required">*</span></label>
        <input class="form-control numberOfTablets" id="obs.omo_number_of_tablets_nifedipine"
               name="obs.omo_number_of_tablets_nifedipine" type="text" data-concept="1898^NUMBER OF TABLETS^99DCT"
               required="required">
    </div>
    <div class="form-group">
        <label for="obs.omo_medication_received_at_vist_nifedipine">[Nifedipine] picked-up at dispensary?<span
                class="required">*</span></label>
        <select class="form-control" id="obs.omo_medication_received_at_vist_nifedipine" required="required"
                name="obs.omo_medication_received_at_vist_nifedipine"
                data-concept="1276^MEDICATION RECEIVED AT VIST^99DCT">>
            <option value="">...</option>
            <option value="true">Yes</option>
            <option value="false">No</option>
        </select>
    </div>
</div>
<div class="section repeat" id="other_medication" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
    <h3>Other Medication</h3>

    <div class="form-group">
        <label for="obs.omo_medication_name_freetext_other">Medication Name:<span class="required">*</span></label>
        <input class="form-control" id="obs.omo_medication_name_freetext_other" required="required"
               name="obs.omo_medication_name_freetext_other" type="text"
               data-concept="1779^MEDICATION NAME, FREETEXT^99DCT">
    </div>
    <div class="form-group">
        <label for="obs.omo_number_of_milligram_other">Medication dose in Milligrams (mg):<span
                class="required">*</span></label>
        <input class="form-control numberOfMilligrams" id="obs.omo_number_of_milligram_other"
               name="obs.omo_number_of_milligram_other"
               type="text" data-concept="1899^NUMBER OF MILLIGRAM^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="obs.omo_medication_frequency_per_day_other">Medication frequency per day:<span
                class="required">*</span></label>
        <select class="form-control" id="obs.omo_medication_frequency_per_day_other" required="required"
                name="obs.omo_medication_frequency_per_day_other" data-concept="1896^MEDICATION FREQUENCY^99DCT">
            <option value="">...</option>
            <option value="1639^MORNING^99DCT">Every Morning</option>
            <option value="1730^EVENING^99DCT">Every Evening</option>
            <option value="1891^ONCE A DAY^99DCT">Once Daily</option>
            <option value="1888^TWICE A DAY^99DCT">Twice Daily</option>
        </select>
    </div>
    <div class="form-group">
        <label for="obs.omo_number_of_tablets_other">Number of Medication tablets:<span
                class="required">*</span></label>
        <input class="form-control numberOfTablets" id="obs.omo_number_of_tablets_other"
               name="obs.omo_number_of_tablets_other"
               type="text" data-concept="1898^NUMBER OF TABLETS^99DCT" required="required">
    </div>

</div>
    <div class="form-group text-center">
        <input class="btn btn-primary" id="save_draft" type="button" value="Save"/>
        <input class="btn btn-primary" id="submit_form" type="submit" value="Submit"/>
    </div>
</form>

<div class="ui-widget">
    <label for="tags">Tags: </label>
    <input id="tags">
</div>

</body>
<script type="text/javascript">
$(document).ready(function () {
    $('form').submit(function () {
        document.submit();
    });

    $('#save_draft').click(function(){
        document.saveDraft();
    });

    $('#encounter\\.division_select').change(function () {
        var $show_community_unit_mosoriot_select = $('.show_community_unit_mosoriot_select');
        var $show_community_unit_turbo_select = $('.show_community_unit_turbo_select');
        var selected_value = $('#encounter\\.division_select').val();
         if(selected_value == 'Mosoriot') {
            $show_community_unit_mosoriot_select.show();
            $show_community_unit_turbo_select.hide();
            $show_community_unit_mosoriot_select.find('input').val(selected_value);
        }
        else if(selected_value == 'Turbo') {
            $show_community_unit_mosoriot_select.hide();
            $show_community_unit_turbo_select.show();
            $show_community_unit_mosoriot_select.find('input').val(selected_value);
        }
        else  {
            $show_community_unit_mosoriot_select.hide();
            $show_community_unit_turbo_select.hide();
            $show_community_unit_mosoriot_select.find('input').val('');
        }
    });

    $('#obs\\.admitted_in_past_12_months').change(function () {
        var $show_admission_in_past_12_months = $('.show_admission_in_past_12_months');
        var selected_value = $('#obs\\.admitted_in_past_12_months').val();
        if(selected_value == '1065^YES^99DCT') {
            $show_admission_in_past_12_months.show();
        }
        else  {
            $show_admission_in_past_12_months.hide();
        }
    });

});

function checkAddress(checkbox)
{
    if($("#obs\\.inpatient_admission\\.yes").is(':checked')) {
        $("#obs\\.admission_in_past_12_months").show();
        $("#obs\\.admission_in_past_12_months_label").show();
        $("#obs\\.inpatient_admission_label").show();
    }
    else {
        $("#obs\\.inpatient_admission_label").hide();
        $("#obs\\.admission_in_past_12_months").hide();  // unchecked
        $("#obs\\.admission_in_past_12_months_label").hide();  // unchecked
    }
}


var selectCorrespondingDrugsDispensed = function (selectedElement) {
    var drugsArray = {"#obs\\.inpatient_admission\\.yes": "#nifedipine_dispense",
        "#obs\\.drugs_dispensed\\.Other": "#other_medication"
    };
    $.each(drugsArray, function (k, v) {
        if ($(k).is(':checked')) {
            $(v).show();
        } else {
            $(v).hide();
        }
    })
};

var $obs_drugs_dispensed = $('input[name="obs.drugs_dispensed"]');
$obs_drugs_dispensed.change(function () {
    selectCorrespondingDrugsDispensed();
});
$obs_drugs_dispensed.trigger('change');
/*  End - Based on Selected medication prescribed show dispensed fields */

/*  Start - Based on Current medication prescribed show dosage fields */

$("input:checkbox").click(function() {
    var $single_select_checkbox = $('.single_select_checkbox');
    if ($(this).is(":checked")) {
        var group = "input:checkbox[name='" + $(this).attr("name") + "']";
        $(group).prop("checked", false);
        $(this).prop("checked", true);
    } else {
        $(this).prop("checked", false);
    }
});


$(function() {
    var availableTags = [
        "ActionScript",
        "AppleScript",
        "Asp",
        "BASIC",
        "C",
        "C++",
        "Clojure",
        "COBOL",
        "ColdFusion",
        "Erlang",
        "Fortran",
        "Groovy",
        "Haskell",
        "Java",
        "JavaScript",
        "Lisp",
        "Perl",
        "PHP",
        "Python",
        "Ruby",
        "Scala",
        "Scheme"
    ];
    $( "#tags" ).autocomplete({
        source: availableTags
    });
});

</script>

</html>