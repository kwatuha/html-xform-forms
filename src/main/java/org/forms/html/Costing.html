<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/muzima.css" rel="stylesheet">
    <link href="css/ui-darkness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
    <script src="js/muzima.js"></script>

    <title>Cost Assessment</title>
</head>
<body class="col-md-8 col-md-offset-2">
<div id="pre_populate_data"></div>
<form id="costing_form" name="costing_form">

<h2 class="text-center">COST ASSESSMENT TOOL</h2>

<div class="section">
    <h3>Demographics</h3>

    <div class="form-group">
        <label for="patient.medical_record_number">AMRS ID Number:</label>
        <input class="form-control" id="patient.medical_record_number"
               name="patient.medical_record_number" type="text" readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.family_name">Family Name:</label>
        <input class="form-control" id="patient.family_name" name="patient.family_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.given_name">Given Name:</label>
        <input class="form-control" id="patient.given_name" name="patient.given_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.middle_name">Middle Name:</label>
        <input class="form-control" id="patient.middle_name" name="patient.middle_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.sex">Gender:</label>
        <select class="form-control" id="patient.sex" name="patient.sex" readonly="readonly">
            <option value="">...</option>
            <option value="M">Male</option>
            <option value="F">Female</option>
        </select>
    </div>
    <div class="form-group">
        <label for="patient.birthdate">Date Of Birth:</label>
        <input class="form-control datepicker nonFutureDate" id="patient.birthdate" name="patient.birthdate" type="text"
               readonly="readonly">
    </div>
</div>
<div class="section">
    <h3>Survey Information</h3>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Participant ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.participant_id" name="encounter.participant_id"
               type="text" placeholder="Participant ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Household ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.household_id" name="encounter.household_id"
               type="text" placeholder="Household ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.encounter_datetime">Encounter Date:<span class="required">*</span></label>
        <input class="form-control datepicker nonFutureDate" id="encounter.encounter_datetime"
               name="encounter.encounter_datetime" type="text" readonly="readonly"
               required="required">
    </div>

    <div class="form-group">
        <label for="encounter.division_select">Division:<span class="required">*</span></label>
        <select class="form-control .styled-select2" id="encounter.division_select" name="encounter.division_select" required="required">
            <option selected="selected" disabled="disabled" value="">Divisions</option>
            <option value="Mosoriot">Mosoriot</option>
            <option value="Turbo">Turbo</option>
        </select>
    </div>
    <div style="display:none" class="form-group show_community_unit_mosoriot_select">
        <label for="encounter.community_unit.mosoriot">Mosoriot units:<span class="required">*</span></label>
        <input class="form-control ui-widget" id="encounter.community_unit.mosoriot" name="encounter.community_unit.mosoriot" required="required">

    </div>

    <div style="display:none" class="form-group show_community_unit_turbo_select ui-widget ">
        <label for="encounter.community_unit.turbo">Turbo units:<span class="required">*</span></label>

        <input class="form-control ui-widget" id="encounter.community_unit.turbo" name="encounter.community_unit.turbo" required="required">
    </div>

    <div class="form-group">
        <label for="encounter.village">village:<span class="required">*</span></label>
        <input class="form-control" id="encounter.village" name="encounter.village"
               type="text" placeholder="Village" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.provider_id_select">Select RA:</label>
        <select class="form-control" id="encounter.provider_id_select" name="encounter.provider_id_select">
            <option value="">RA's</option>
            <option value="3356-3">Jackson Rotich</option>
            <option value="237-8">Penina Kiptoo</option>
            <option value="3331-6">Kenedy Kirwa</option>
        </select>
    </div>
    <div class="form-group show_provider_id_text">
        <label for="encounter.provider_id">Enter RA's system-id:<span class="required">*</span></label>
        <input class="form-control checkDigit" id="encounter.provider_id" name="encounter.provider_id"
               type="text" required="required">
    </div>
</div>

<div class="section">
    <h3>INPATIENT ADMISSIONS</h3>

    <label>Have you at any time during the past 12 months been admitted in a hospital for at least one night?</label>

    <div class="form-group">
        <fieldset name="obs.inpatient_admission" data-concept="6419^ADMITTED TO HOSPITAL^99DCT">
            <input id="obs.admitted.yes" type="radio" name="obs.admitted" value="1065^YES^99DCT">
            <label for="obs.admitted.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.admitted.no" type="radio"  name="obs.admitted" value="1066^NO^99DCT">
            <label for="obs.admitted.no">No</label><br>
            <input id="obs.admitted.dont_know" type="radio"  name="obs.admitted" value="1624^DO NOT KNOW^99DCT">
            <label for="obs.admitted.dont_know">Don&#39;t Know</label>
            <input id="obs.admitted.refused" type="radio"   name="obs.admitted" value="1958^REFUSAL^99DCT">
            <label for="obs.admitted.refused">Refused</label>
        </fieldset>
    </div>

    <div  id="obs.admission_details" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
        <label for="obs.admission_in_past_12_months" id="obs.admission_in_past_12_months_label">Number of Admissions:<span class="required">*</span></label>
        <input class="form-control" id="obs.admission_in_past_12_months" name="obs.admission_in_past_12_months"
               type="number" placeholder="Number of Admissions" data-concept="conceptID^Name^99DCT" required="required">
        <label class="alert alert-info" id="obs.inpatient_admission_label" style="display:none">For each of the admissions you listed, we are going to ask you some additional questions.</label>
        <div class="repeat" id="obs.admission_details_repeart" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
        <label>Was the admission the result of an accident or injury?</label>
        <div class="form-group single_select_checkbox injury_select" id="obs.admission_injury">
            <fieldset name="obs.admission_cause_injury" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
                <input id="obs.admission_cause_injury.yes" type="checkbox"  name="obs.injury" value="1065^YES^99DCT">
                <label for="obs.admission_cause_injury.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
                <input id="obs.admission_cause_injury.no" type="checkbox"  name="obs.injury" value="1066^NO^99DCT">
                <label for="obs.admission_cause_injury.no">No</label><br>
                <input id="obs.admission_cause_injury.dont_know" type="checkbox"  name="obs.injury" value="1624^DO NOT KNOW^99DCT">
                <label for="obs.admission_cause_injury.dont_know">Don&#39;t Know</label>
                <input id="obs.admission_cause_injury.refused" type="checkbox"   name="obs.injury" value="1958^REFUSAL^99DCT">
                <label for="obs.admission_cause_injury.refused">Refused</label>
            </fieldset>
        </div>
        </div>

        <div  style="display:none" cla ss="form-group single_select_checkbox"  id="obs.admission_disease" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
        <label>was the admission the result of any specific disease e.g malaria, typhoid, hypertension etc?</label>
        <div class="form-group single_select_checkbox">
            <fieldset name="obs.admission_cause_disease" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
                <input id="obs.admission_cause_disease.yes" type="checkbox"  name="obs.admitted34" value="1065^YES^99DCT">
                <label for="obs.admission_cause_disease.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
                <input id="obs.admission_cause_disease.no" type="checkbox"  name="obs.drugs_dispense345d" value="1066^NO^99DCT">
                <label for="obs.admission_cause_disease.no">No</label><br>
                <input id="obs.admission_cause_disease.dont_know" type="checkbox"  name="obs.drugs_345dispensed" value="1624^DO NOT KNOW^99DCT">
                <label for="obs.admission_cause_disease.dont_know">Don&#39;t Know</label>
                <input id="obs.admission_cause_disease.refused" type="checkbox"   name="obs.drugs_dis345pensed" value="1958^REFUSAL^99DCT">
                <label for="obs.admission_cause_disease.refused">Refused</label>
            </fieldset>
        </div>
        <div class="form-group" id="obs.specific_disease_div">
            <label for="obs.specific_disease" id="obs.specific_disease_label">Specify the disease:<span class="required">*</span></label>
            <input class="form-control" id="obs.specific_disease" name="obs.admission_in_past_12_months"  style="display:none"
                   type="text" placeholder="specify disease" data-concept="conceptID^Name^99DCT" required="required">
        </div>

        </div>
    </div>
</div>

</div>

<div class="section repeat" id="other_medication" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
    <h3>Other Medication</h3>

    <div class="form-group">
        <label for="obs.omo_medication_name_freetext_other">Medication Name:<span class="required">*</span></label>
        <input class="form-control" id="obs.omo_medication_name_freetext_other" required="required"
               name="obs.omo_medication_name_freetext_other" type="text"
               data-concept="1779^MEDICATION NAME, FREETEXT^99DCT">
    </div>
    <div class="form-group">
        <label for="obs.omo_number_of_milligram_other">Medication dose in Milligrams (mg):<span
                class="required">*</span></label>
        <input class="form-control numberOfMilligrams" id="obs.omo_number_of_milligram_other"
               name="obs.omo_number_of_milligram_other"
               type="text" data-concept="1899^NUMBER OF MILLIGRAM^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="obs.omo_medication_frequency_per_day_other">Medication frequency per day:<span
                class="required">*</span></label>
        <select class="form-control" id="obs.omo_medication_frequency_per_day_other" required="required"
                name="obs.omo_medication_frequency_per_day_other" data-concept="1896^MEDICATION FREQUENCY^99DCT">
            <option value="">...</option>
            <option value="1639^MORNING^99DCT">Every Morning</option>
            <option value="1730^EVENING^99DCT">Every Evening</option>
            <option value="1891^ONCE A DAY^99DCT">Once Daily</option>
            <option value="1888^TWICE A DAY^99DCT">Twice Daily</option>
        </select>
    </div>
    <div class="form-group">
        <label for="obs.omo_number_of_tablets_other">Number of Medication tablets:<span
                class="required">*</span></label>
        <input class="form-control numberOfTablets" id="obs.omo_number_of_tablets_other"
               name="obs.omo_number_of_tablets_other"
               type="text" data-concept="1898^NUMBER OF TABLETS^99DCT" required="required">
    </div>

</div>
    <div class="form-group text-center">
        <input class="btn btn-primary" id="save_draft" type="button" value="Save"/>
        <input class="btn btn-primary" id="submit_form" type="submit" value="Submit"/>
    </div>
</form>

</body>
<script type="text/javascript">
$(document).ready(function () {
    $('form').submit(function () {
        document.submit();
    });

    $('#save_draft').click(function(){
        document.saveDraft();
    });

    $('#encounter\\.division_select').change(function () {
        var $show_community_unit_mosoriot_select = $('.show_community_unit_mosoriot_select');
        var $show_community_unit_turbo_select = $('.show_community_unit_turbo_select');
        var selected_value = $('#encounter\\.division_select').val();
         if(selected_value == 'Mosoriot') {
            $show_community_unit_mosoriot_select.show();
            $show_community_unit_turbo_select.hide();
            $show_community_unit_mosoriot_select.find('input').val('');
        }
        else if(selected_value == 'Turbo') {
            $show_community_unit_mosoriot_select.hide();
            $show_community_unit_turbo_select.show();
            $show_community_unit_mosoriot_select.find('input').val('');
        }
        else  {
            $show_community_unit_mosoriot_select.hide();
            $show_community_unit_turbo_select.hide();
            $show_community_unit_mosoriot_select.find('input').val('');
        }
    });

});
$("input:checkbox").change(function() {
    var $injury_select = $('.injury_select');
    if($("#obs\\.admission_cause_injury\\.yes").is(':checked')) {
        $("#obs\\.admission_disease").hide();
    }
    else {
        $("#obs\\.admission_disease").show();
    }
});
var selectCorrespondingAdmission = function (selectedElement) {
    var drugsArray = {"#obs\\.admitted\\.yes": "#obs\\.admission_details",
        "#obs\\.admitted\\.Other": "#other_medication"
    };
    $.each(drugsArray, function (k, v) {
        if ($(k).is(':checked')) {
            $(v).show();
        } else {
            $(v).hide();
        }
    })
};
var $obs_admitted = $('input[name="obs.admitted"]');
$obs_admitted.change(function () {
    selectCorrespondingAdmission();
});
$obs_admitted.trigger('change');

$("input:checkbox").click(function() {
    var $single_select_checkbox = $('.single_select_checkbox');
    if ($(this).is(":checked")) {
        var group = "input:checkbox[name='" + $(this).attr("name") + "']";
        $(group).prop("checked", false);
        $(this).prop("checked", true);
    } else {
        $(this).prop("checked", false);
    }
});

$('input[name$="rdoSearchBy"]').change(function(){
    alert($('input[name$="rdoSearchBy"]:checked').val());
});
$(function() {
    var turbo_community_units = [
        "Chepkemel",
        "Cheplaskei",
        "Chepsaita",
        "Cheramei",
        "Leseru",
        "Murgor hills",
        "Murgusi",
        "Ngenyilel",
        "Osorongai",
        "Sambut",
        "Sokyot",
        "Sosiani",
        "Sugoi",
        "Tuigoin",
        "Turbo/Kaptebee"
    ];
    $( "#encounter\\.community_unit\\.turbo" ).autocomplete({
        source: turbo_community_units
    });
    var mosoriot_community_units = [
        "Biribiriet",
        "Chepteri",
        "Itigo",
        "Kokwet",
        "Kingwal",
        "Lelmokwo",
        "Mosoriot",
        "Ngechek",
        "Sigo"
    ];
    $( "#encounter\\.community_unit\\.mosoriot" ).autocomplete({
        source: mosoriot_community_units
    });
});

</script>

</html>