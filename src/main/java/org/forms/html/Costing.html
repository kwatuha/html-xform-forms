<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/muzima.css" rel="stylesheet">
    <link href="css/ui-darkness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
    <script src="js/muzima.js"></script>

    <title>Cost Assessment</title>
</head>
<body class="col-md-8 col-md-offset-2">
<div id="pre_populate_data"></div>
<form id="costing_form" name="costing_form">

<h2 class="text-center">COST ASSESSMENT</h2>

<div class="section">
    <h3>Demographics</h3>

    <div class="form-group">
        <label for="patient.medical_record_number">AMRS ID Number:</label>
        <input class="form-control" id="patient.medical_record_number"
               name="patient.medical_record_number" type="text" readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.family_name">Family Name:</label>
        <input class="form-control" id="patient.family_name" name="patient.family_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.given_name">Given Name:</label>
        <input class="form-control" id="patient.given_name" name="patient.given_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.middle_name">Middle Name:</label>
        <input class="form-control" id="patient.middle_name" name="patient.middle_name" type="text"
               readonly="readonly">
    </div>
    <div class="form-group">
        <label for="patient.sex">Gender:</label>
        <select class="form-control" id="patient.sex" name="patient.sex" readonly="readonly">
            <option value="">...</option>
            <option value="M">Male</option>
            <option value="F">Female</option>
        </select>
    </div>
    <div class="form-group">
        <label for="patient.birthdate">Date Of Birth:</label>
        <input class="form-control datepicker nonFutureDate" id="patient.birthdate" name="patient.birthdate" type="text"
               readonly="readonly">
    </div>
</div>
<div class="section">
    <h3>Survey Information</h3>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Participant ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.participant_id" name="encounter.participant_id"
               type="text" placeholder="Participant ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>

    <div class="form-group">
        <label for="encounter.participant_id">Enter Household ID:<span class="required">*</span></label>
        <input class="form-control" id="encounter.household_id" name="encounter.household_id"
               type="text" placeholder="Household ID" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.encounter_datetime">Encounter Date:<span class="required">*</span></label>
        <input class="form-control datepicker nonFutureDate" id="encounter.encounter_datetime"
               name="encounter.encounter_datetime"  type="text"  readonly="readonly"
               required="required">
    </div>

    <label>Select Division<span class="required">*</span></label>
    <div class="form-group" id="encounter.division_select">
        <fieldset name="encounter.division_select" data-concept="6419^ADMITTED TO HOSPITAL^99DCT">
            <input id="encounter.division_select.mosoriot" type="radio" name="encounter.division_options" value="1065^YES^99DCT">
            <label for="encounter.division_select.mosoriot">Mosoriot</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="encounter.division_select.turbo" type="radio"  name="encounter.division_options" value="1066^NO^99DCT">
            <label for="encounter.division_select.turbo">Turbo</label><br>
        </fieldset>
    </div>


    <div style="display:none" class="form-group show_community_unit_mosoriot_select">
        <label for="encounter.community_unit.mosoriot">Mosoriot units:<span class="required">*</span></label>
        <input class="form-control ui-widget" id="encounter.community_unit.mosoriot" name="encounter.community_unit.mosoriot" required="required">
    </div>

    <div style="display:none" class="form-group show_community_unit_turbo_select">
        <label for="encounter.community_unit.turbo">Turbo units:<span class="required">*</span></label>
        <input class="form-control ui-widget" id="encounter.community_unit.turbo" name="encounter.community_unit.turbo" required="required">
    </div>

    <div style="display:none" class="form-group show_village">
        <label for="encounter.village">village:<span class="required">*</span></label>
        <input class="form-control" id="encounter.village" name="encounter.village"
               type="text" placeholder="Village" data-concept="conceptID^Name^99DCT" required="required">
    </div>
    <div class="form-group">
        <label for="encounter.provider_id_select">Select RA:<span class="required">*</span></label>
        <select class="form-control" id="encounter.provider_id_select" name="encounter.provider_id_select">
            <option value="">RA's</option>
            <option value="3356-3">Jackson Rotich</option>
            <option value="237-8">Penina Kiptoo</option>
            <option value="3331-6">Kenedy Kirwa</option>
        </select>
    </div>
    <div class="form-group show_provider_id_text">
        <label for="encounter.provider_id">Enter RA's system-id:<span class="required">*</span></label>
        <input class="form-control checkDigit" id="encounter.provider_id" name="encounter.provider_id"
               type="text" required="required">
    </div>
</div>

<div class="section">
    <h3>INPATIENT ADMISSIONS</h3>

    <label>Have you at any time during the past 12 months been admitted in a hospital for at least one night?<span class="required">*</span></label>
    <div class="form-group" id="obs.admitted_select">
        <fieldset name="obs.inpatient_admission" data-concept="6419^ADMITTED TO HOSPITAL^99DCT">
            <input id="obs.admitted.yes" type="radio" name="obs.admitted" value="1065^YES^99DCT">
            <label for="obs.admitted.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.admitted.no" type="radio"  name="obs.admitted" value="1066^NO^99DCT">
            <label for="obs.admitted.no">No</label><br>
            <input id="obs.admitted.dont_know" type="radio"  name="obs.admitted" value="1624^DO NOT KNOW^99DCT">
            <label for="obs.admitted.dont_know">Don&#39;t Know</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.admitted.refused" type="radio"   name="obs.admitted" value="1958^REFUSAL^99DCT">
            <label for="obs.admitted.refused">Refused</label>
        </fieldset>
    </div>
    <div  id="obs.admission_details" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
        <label for="obs.admission_in_past_12_months" id="obs.admission_in_past_12_months_label">Number of Admissions:<span class="required">*</span></label>
        <input class="form-control" id="obs.admission_in_past_12_months" name="obs.admission_in_past_12_months"
               type="number" placeholder="Number of Admissions" data-concept="conceptID^Name^99DCT" required="required">

        <label class="alert alert-info" id="obs.inpatient_admission_label">For each of the admissions you listed, we are going to ask you some additional questions.</label>

        <div class="form-group" id="obs.admission_injury">
            <label for="obs.admission_injury">Was the admission the result of an accident or injury?<span class="required">*</span></label>
            <fieldset name="obs.admission_cause_injury" data-concept="1901^OTHER MEDICATION ORDER^99DCT" id="obs.admission_injury_select">
            <input id="obs.admission_cause_injury.yes" type="radio"  name="obs.injury" value="1065^YES^99DCT">
            <label for="obs.admission_cause_injury.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.admission_cause_injury.no" type="radio"  name="obs.injury" value="1066^NO^99DCT">
            <label for="obs.admission_cause_injury.no">No</label><br>
            <input id="obs.admission_cause_injury.dont_know" type="radio"  name="obs.injury" value="1624^DO NOT KNOW^99DCT">
            <label for="obs.admission_cause_injury.dont_know">Don&#39;t Know</label>  &nbsp;&nbsp;&nbsp;&nbsp;
            <input id="obs.admission_cause_injury.refused" type="radio"   name="obs.injury" value="1958^REFUSAL^99DCT">
            <label for="obs.admission_cause_injury.refused">Refused</label>
            </fieldset>
        </div>
        <div  style="display:none" class="form-group show_none_injury_quiz"  id="obs.admission_disease" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
        <label>was the admission the result of any specific disease e.g malaria, typhoid, hypertension etc?<span class="required">*</span></label>
        <div class="form-group  single_select_checkbox">
            <fieldset  name="obs.admission_cause_disease" data-concept="1901^OTHER MEDICATION ORDER^99DCT" id="obs.admission_disease_select">
                <input id="obs.admission_cause_disease.yes" type="radio"  name="obs.disease" value="1065^YES^99DCT">
                <label for="obs.admission_cause_disease.yes">Yes</label> &nbsp;&nbsp;&nbsp;&nbsp;
                <input id="obs.admission_cause_disease.no" type="radio"  name="obs.disease" value="1066^NO^99DCT">
                <label for="obs.admission_cause_disease.no">No</label><br>
                <input id="obs.admission_cause_disease.dont_know" type="radio"  name="obs.disease" value="1624^DO NOT KNOW^99DCT">
                <label for="obs.admission_cause_disease.dont_know">Don&#39;t Know</label>  &nbsp;&nbsp;&nbsp;&nbsp;
                <input id="obs.admission_cause_disease.refused" type="radio"   name="obs.disease" value="1958^REFUSAL^99DCT">
                <label for="obs.admission_cause_disease.refused">Refused</label>
            </fieldset>
        </div>

        <div style="display:none" class="form-group ask_specify_disease" id="obs.specific_disease_div">
            <label for="obs.specific_disease" id="obs.specific_disease_label">What was/were the reason(s)/disease(s)<span class="required">*</span></label>
            <div class="section repeat">
            <input class="form-control" id="obs.specific_disease" name="obs.admission_in_past_12_months"
                   type="text" placeholder="Reason(s)/disease(s)" data-concept="conceptID^Name^99DCT" required="required">
             </div>
        </div>

        </div>
        <div class="section">
            <label>Did you pay for this admission using any of the following sources?<span class="required">*</span></label>
            <div class="form-group largerCheckbox">
                <fieldset data-concept="1069^payment sources^99DCT" name="1069^payment sources^99DCT">
                    <input id="obs.review_of_systems_general.edema_legs" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="590^EDEMA, LEGS^99DCT">
                    <label for="obs.review_of_systems_general.edema_legs">Leg Swelling (Oedema)</label><br>
                    <input id="obs.review_of_systems_general.shortness_of_breath_with_exertion" type="checkbox"
                           name="1069^payment sources^99DCT" value="5963^SHORTNESS OF BREATH WITH EXERTION^99DCT">
                    <label for="obs.review_of_systems_general.shortness_of_breath_with_exertion">Shortness of breath with
                        activity</label><br>
                    <input id="obs.review_of_systems_general.focal_weakness" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="6005^FOCAL WEAKNESS^99DCT">
                    <label for="obs.review_of_systems_general.focal_weakness">Weakness in one part of the body</label><br>
                    <input id="obs.review_of_systems_general.oliguria" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="6021^OLIGURIA^99DCT">
                    <label for="obs.review_of_systems_general.oliguria">Reduced urine output</label><br>
                    <input id="obs.review_of_systems_general.heart_racing" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="7044^HEART RACING^99DCT">
                    <label for="obs.review_of_systems_general.heart_racing">Heart Racing</label><br>
                    <input id="obs.review_of_systems_general.dizziness" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="877^DIZZINESS^99DCT">
                    <label for="obs.review_of_systems_general.dizziness">Recurrent Dizziness</label><br>
                    <input id="obs.review_of_systems_general.fainting" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="7045^FAINTING^99DCT">
                    <label for="obs.review_of_systems_general.fainting">Fainting</label><br>
                    <input id="obs.review_of_systems_general.unconscious" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="2295^UNCONSCIOUS^99DCT">
                    <label for="obs.review_of_systems_general.unconscious">Loss of consciousness</label><br>
                    <input id="obs.review_of_systems_general.vision_difficulties" type="checkbox"
                           name="1069^payment sources^99DCT" value="5953^VISION DIFFICULTIES^99DCT">
                    <label for="obs.review_of_systems_general.vision_difficulties">Vision Difficulties</label><br>
                    <input id="obs.review_of_systems_general.foot_complaints" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="7046^FOOT COMPLAINTS^99DCT">
                    <label for="obs.review_of_systems_general.foot_complaints">Foot Complaints</label><br>
                    <input id="obs.review_of_systems_general.nausea" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="5978^NAUSEA^99DCT">
                    <label for="obs.review_of_systems_general.nausea">Nausea</label><br>
                    <input id="obs.review_of_systems_general.vomiting" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="5980^VOMITING^99DCT">
                    <label for="obs.review_of_systems_general.vomiting">Vomiting</label><br>
                    <input id="obs.review_of_systems_general.abdominal_pain" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="151^ABDOMINAL PAIN^99DCT">
                    <label for="obs.review_of_systems_general.abdominal_pain">Abdominal Discomfort</label><br>
                    <input id="obs.review_of_systems_general.diarrhea" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="16^DIARRHEA^99DCT">
                    <label for="obs.review_of_systems_general.diarrhea">Diarrhea</label><br>
                    <input id="obs.review_of_systems_general.constipation" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="996^CONSTIPATION^99DCT">
                    <label for="obs.review_of_systems_general.constipation">Constipation</label><br>
                    <input id="obs.review_of_systems_general.chronic_cough" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="1470^CHRONIC COUGH^99DCT">
                    <label for="obs.review_of_systems_general.chronic_cough">Recurrent Cough</label><br>
                    <input id="obs.review_of_systems_general.hypoglycemia" type="checkbox"
                           name="1069^payment sources^99DCT"
                           value="7047^HYPOGLYCEMIA^99DCT">
                    <label for="obs.review_of_systems_general.hypoglycemia">Hunger, Sweating, dizziness and shaking</label><br>
                    <input id="obs.review_of_systems_general.none" type="checkbox" name="1069^payment sources^99DCT"
                           value="1107^NONE^99DCT">
                    <label for="obs.review_of_systems_general.none">None of the above</label><br>
                </fieldset>
            </div>
        </div>
    </div>
</div>
</div>

<div class="section repe" id="" data-concept="1901^OTHER MEDICATION ORDER^99DCT">
    <h3>Other Medication</h3>



</div>
    <div class="form-group text-center">
        <input class="btn btn-primary" id="save_draft" type="button" value="Save"/>
        <input class="btn btn-primary" id="submit_form" type="submit" value="Submit"/>
    </div>
</form>

</body>


<style type="text/css">

    input[type="checkbox"]:checked+label{background:#ccc; color:white}​
</style>
<script type="text/javascript">
$(document).ready(function () {
    $('form').submit(function () {
        document.submit();
    });

    $('#save_draft').click(function(){
        document.saveDraft();
    });

});

$('#encounter\\.division_select').change(function () {
    var $show_community_unit_mosoriot_select = $('.show_community_unit_mosoriot_select');
    var $show_community_unit_turbo_select = $('.show_community_unit_turbo_select');
    var $show_village = $('.show_village');
    if($("#encounter\\.division_select\\.mosoriot").is(':checked')) {
        $show_community_unit_mosoriot_select.show();
        $show_community_unit_turbo_select.hide();
    }
    if($("#encounter\\.division_select\\.turbo").is(':checked')){
        $show_community_unit_turbo_select.show();
        $show_community_unit_mosoriot_select.hide();
    }
    $show_village.show();
});

$('#obs\\.admission_injury').change(function () {
    var $show_none_injury_quiz = $('.show_none_injury_quiz');
    if(!$("#obs\\.admission_cause_injury\\.yes").is(':checked'))
        $show_none_injury_quiz.show();
    else
        $show_none_injury_quiz.hide();
});
$('#obs\\.admission_disease').change(function () {
    var $ask_specify_disease = $('.ask_specify_disease');
    if($("#obs\\.admission_cause_disease\\.yes").is(':checked'))
        $ask_specify_disease.show();
    else
        $ask_specify_disease.hide();
});
var fullDate = new Date()
var twoDigitMonth = ((fullDate.getMonth().length+1) === 1)? (fullDate.getMonth()+1) : '0' + (fullDate.getMonth()+1);
var currentDate = fullDate.getFullYear() + "-" + twoDigitMonth + "-" + fullDate.getDate();
$("#encounter\\.encounter_datetime").val(currentDate);

$(document).ready(function () {
    $("#obs\\.admitted_select").buttonset().find('label').width(75);
    $("#encounter\\.division_select").buttonset().find('label').width(85);
    $("#obs\\.admission_injury_select").buttonset().find('label').width(75);
    $("#obs\\.admission_disease_select").buttonset().find('label').width(75);
});

var selectCorrespondingAdmission = function (selectedElement) {
    var drugsArray = {"#obs\\.admitted\\.yes": "#obs\\.admission_details"
    };
    $.each(drugsArray, function (k, v) {
        if ($(k).is(':checked')) {
            $(v).show();
        } else {
            $(v).hide();
        }
    })
};
var $obs_admitted = $('input[name="obs.admitted"]');
$obs_admitted.change(function () {
    selectCorrespondingAdmission();
});
$obs_admitted.trigger('change');

$(function() {
    var turbo_community_units = [
        "Chepkemel",
        "Cheplaskei",
        "Chepsaita",
        "Cheramei",
        "Leseru",
        "Murgor hills",
        "Murgusi",
        "Ngenyilel",
        "Osorongai",
        "Sambut",
        "Sokyot",
        "Sosiani",
        "Sugoi",
        "Tuigoin",
        "Turbo/Kaptebee"
    ];
    $( "#encounter\\.community_unit\\.turbo" ).autocomplete({
        source: turbo_community_units
    });
    var mosoriot_community_units = [
        "Biribiriet",
        "Chepteri",
        "Itigo",
        "Kokwet",
        "Kingwal",
        "Lelmokwo",
        "Mosoriot",
        "Ngechek",
        "Sigo"
    ];
    $( "#encounter\\.community_unit\\.mosoriot" ).autocomplete({
        source: mosoriot_community_units
    });
});

</script>

</html>